(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24cc7be2"],{"5b8e":function(t,e,a){"use strict";var n=a("5d92"),i=a.n(n);i.a},"5d92":function(t,e,a){},"6c49":function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return o})),a.d(e,"f",(function(){return r})),a.d(e,"g",(function(){return l})),a.d(e,"e",(function(){return s})),a.d(e,"a",(function(){return u})),a.d(e,"b",(function(){return c}));var n=a("b775");function i(){return Object(n["a"])({url:"/tea/getsubject",method:"get"})}function o(t){return Object(n["a"])({url:"/tea/getpaper",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/tea/saveorupdatepaper",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/tea/delpaper",method:"DELETE",params:t})}function s(t){return Object(n["a"])({url:"/tea/paperdetailfortea",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/tea/addquetopaper",method:"post",params:t})}function c(t){return Object(n["a"])({url:"/tea/delequefrompaper",method:"delete",params:t})}},8114:function(t,e,a){"use strict";var n=a("96a5"),i=a.n(n);i.a},"8bd7":function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var n=a("b775");function i(t){return Object(n["a"])({url:"/tea/getpointbysubjectid",method:"get",params:t})}},9175:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-col",{attrs:{span:4}},[a("tree",{attrs:{data:t.treeData,"node-click":t.nodeClick}})],1),t._v(" "),a("el-col",{attrs:{span:20}},[t.course?a("qu-bank-table",{key:"1",ref:"quBankTable",attrs:{"subject-id":t.subjectId,handles:{handleCreateBank:t.handleCreateBank,handleEditBank:t.handleEditBank}}}):a("question-table",{key:"2",ref:"questionTable",attrs:{"bank-name":t.bankName,"subject-id":t.subjectId,handles:{handleCreate:t.handleCreate,handleEdit:t.handleEdit}}})],1),t._v(" "),a("question-dialog",{ref:"questionDialog",attrs:{"dialog-data":t.questionDialogData,"subject-id":t.subjectId}}),t._v(" "),a("QuBankDialog",{attrs:{"dialog-data":t.quBankDialogData,"subject-id":t.subjectId}})],1)},i=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("题库分类")])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}}),t._v(" "),a("div",{staticClass:"block"},[a("el-tree",{ref:"tree",attrs:{data:t.data,"node-key":"id","filter-node-method":t.filterNode},on:{"node-click":t.nodeClick}})],1)],1)},r=[],l={props:{data:{type:Array,required:!0},nodeClick:{type:Function,required:!0}},data:function(){return{filterText:""}},watch:{filterText:function(t){this.$refs.tree.filter(t)}},methods:{filterNode:function(t,e){return!t||-1!==e.label.indexOf(t)}}},s=l,u=(a("8114"),a("4023")),c=Object(u["a"])(s,o,r,!1,null,null,null),d=c.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.bankName)+"题库")])]),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:3}},[a("el-input",{attrs:{placeholder:"输入试题标题查询",clearable:""},model:{value:t.pagination.listQuery.questionName,callback:function(e){t.$set(t.pagination.listQuery,"questionName",e)},expression:"pagination.listQuery.questionName"}})],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:"选择题型",clearable:"",filterable:""},model:{value:t.pagination.listQuery.questionType,callback:function(e){t.$set(t.pagination.listQuery,"questionType",e)},expression:"pagination.listQuery.questionType"}},t._l(t.questionList,(function(t,e){return a("el-option",{key:t,attrs:{label:t,value:e}})})),1)],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:"选择知识点",clearable:"",filterable:""},model:{value:t.pagination.listQuery.pointId,callback:function(e){t.$set(t.pagination.listQuery,"pointId",e)},expression:"pagination.listQuery.pointId"}},t._l(t.pointList,(function(t){return a("el-option",{key:t.pointId,attrs:{label:t.pointName,value:t.pointId}})})),1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-check",type:"primary"},nativeOn:{click:function(e){return t.handles.handleCreate(e)}}},[t._v("增加")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},nativeOn:{click:function(e){return t.handleDeletes(e)}}},[t._v("删除")])],1)],1),t._v(" "),a("my-table",{attrs:{data:t._f("examinationFilter")(t.myTableData,t.pagination)}}),t._v(" "),a("div",[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.pagination.total>0,expression:"pagination.total>0"}],attrs:{"current-page":t.pagination.listQuery.pageNum,"page-sizes":[10,20,30,50],"page-size":t.pagination.listQuery.pageSize,total:t.pagination.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)},f=[],b=(a("b071"),a("0812"),a("9d95"),a("b10f"),a("b3f3"),a("b2f4"),a("9a55"),a("0c04"),a("5fa3"),a("c07b"),a("18ca"),a("a084"),a("c5fb"),a("38e5")),h=a("b5b3"),m=a("bc79"),g=a("8bd7");function v(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=D(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return r=t.done,t},e:function(t){l=!0,o=t},f:function(){try{r||null==a.return||a.return()}finally{if(l)throw o}}}}function D(t,e){if(t){if("string"===typeof t)return y(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function k(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function q(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?k(Object(a),!0).forEach((function(e){Object(b["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var j={components:{MyTable:h["a"]},filters:{examinationFilter:function(t,e){var a=e.listQuery,n=q({},t),i=(a.pageNum,a.pageSize,a.questionName);a.questionType,a.pointId;return n.tableData=n.tableData.filter((function(t){return!i||t.questionName.toLowerCase().includes(i.toLowerCase())})),n}},props:{bankName:{type:String,required:!0},subjectId:{type:Number,required:!0},handles:{type:Object,required:!0}},data:function(){var t=this;return{pagination:{listQuery:{pageNum:1,pageSize:10,questionName:null,questionType:null,pointId:null},total:10},myTableData:{columnList:[{prop:"questionName",label:"试题标题"},{prop:"questionTypeName",label:"题型"},{prop:"opt",label:"选项"},{prop:"questionAnswer",label:"答案"},{prop:"pointName",label:"知识点"}],tableData:[{questionName:"",questionType:"",knowledge:"",score:""}],menuList:[{icon:"el-icon-edit",word:"编辑",command:this.handles.handleEdit},{icon:"el-icon-delete",word:"删除",command:this.handleDelete}],loading:!1,handleSelectionChange:function(e){t.multipleSelection=e}},questionList:["单项选择题","多项选择题","填空题"],pointList:[],multipleSelection:[]}},computed:{whatchListquery:function(){return JSON.parse(JSON.stringify(this.pagination.listQuery))}},watch:{subjectId:{handler:function(t,e){console.log("refreshqu",t),this.refresh(t,this.bankName)}},bankName:{handler:function(t,e){console.log("rerere",t),this.refresh(this.subjectId,t)}},whatchListquery:{handler:function(t,e){console.log("val",t,e),t.pointId===e.pointId&&t.questionType===e.questionType||(console.log("siugaipagenum"),this.pagination.listQuery.pageNum=1),this.getQuestionOfBank(this.subjectId,this.bankName,t)},deep:!0}},created:function(){console.log("qucreated",this.subjectId),0!==this.subjectId&&this.refresh(this.subjectId,this.bankName)},methods:{refresh:function(t,e){this.getQuestionOfBank(t,e)},getQuestionOfBank:function(t,e,a){var n,i=this;n=a?{bankName:e,pointId:a.pointId,type:a.questionType,pageNum:a.pageNum,pageSize:a.pageSize}:{bankName:e,pointId:this.pagination.listQuery.pointId,type:this.pagination.listQuery.questionType,pageNum:this.pagination.listQuery.pageNum,pageSize:this.pagination.listQuery.pageSize},this.getPointList(t),this.myTableData.loading=!0,Object(m["d"])(n).then((function(t){i.myTableData.tableData=t.data.questions.map((function(t){return t.questionTypeName=i.questionList[t.questionType],t.pointName=i.pointList.find((function(e){return e.pointId===t.pointId})).pointName,t})),i.pagination.total=t.data.quesnum,console.log("quesnum",i.pagination.total),i.myTableData.loading=!1})).catch((function(t){console.log(t),alert("获取题库的题目失败"),i.myTableData.loading=!1}))},getPointList:function(t){var e=this;Object(g["a"])({subjectId:t}).then((function(t){e.pointList=t.data})).catch((function(){alert("获取pointList失败")}))},handleSizeChange:function(t){this.pagination.listQuery.pageSize=t},handleCurrentChange:function(t){this.pagination.listQuery.pageNum=t},handleDelete:function(t){var e=this;Object(m["b"])({questionId:t.questionId}).then((function(t){e.refresh(e.subjectId,e.bankName)})).catch((function(){alert("删除试题失败")}))},handleDeletes:function(){var t,e=v(this.multipleSelection);try{for(e.s();!(t=e.n()).done;){var a=t.value;this.handleDelete(a)}}catch(n){e.e(n)}finally{e.f()}}}},O=j,N=Object(u["a"])(O,p,f,!1,null,null,null),w=N.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.dialogData.dialogVisible,width:"60%",top:"10vh"},on:{"update:visible":function(e){return t.$set(t.dialogData,"dialogVisible",e)}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"90%"},attrs:{model:t.dialogData.formData,"label-position":"right","label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"试题名称",prop:"questionName"}},[a("el-input",{attrs:{placeholder:"试题名称"},model:{value:t.dialogData.formData.questionName,callback:function(e){t.$set(t.dialogData.formData,"questionName",e)},expression:"dialogData.formData.questionName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"试题类型",prop:"questionType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择试题类型"},model:{value:t.dialogData.formData.questionType,callback:function(e){t.$set(t.dialogData.formData,"questionType",e)},expression:"dialogData.formData.questionType"}},t._l(t.questionList,(function(t,e){return a("el-option",{key:t,attrs:{label:t,value:e}})})),1)],1)],1)],1),t._v(" "),2!==t.dialogData.formData.questionType?a("div",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"A",prop:"opt"}},[a("el-input",{attrs:{placeholder:"选项A",disabled:t.optDisable},model:{value:t.option.a,callback:function(e){t.$set(t.option,"a",e)},expression:"option.a"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"B",prop:"opt"}},[a("el-input",{attrs:{placeholder:"选项B",disabled:t.optDisable},model:{value:t.option.b,callback:function(e){t.$set(t.option,"b",e)},expression:"option.b"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"C",prop:"opt"}},[a("el-input",{attrs:{placeholder:"选项C",disabled:t.optDisable},model:{value:t.option.c,callback:function(e){t.$set(t.option,"c",e)},expression:"option.c"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"D",prop:"opt"}},[a("el-input",{attrs:{placeholder:"选项D",disabled:t.optDisable},model:{value:t.option.d,callback:function(e){t.$set(t.option,"d",e)},expression:"option.d"}})],1)],1)],1)],1):t._e(),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"答案",prop:"questionAnswer"}},[a("el-input",{attrs:{placeholder:"答案"},model:{value:t.dialogData.formData.questionAnswer,callback:function(e){t.$set(t.dialogData.formData,"questionAnswer",e)},expression:"dialogData.formData.questionAnswer"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"知识点",prop:"pointId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"选择知识点",clearable:"",filterable:""},model:{value:t.dialogData.formData.pointId,callback:function(e){t.$set(t.dialogData.formData,"pointId",e)},expression:"dialogData.formData.pointId"}},t._l(t.pointList,(function(t){return a("el-option",{key:t.pointId,attrs:{label:t.pointName,value:t.pointId}})})),1)],1)],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(e){t.dialogData.dialogVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.dialogData.handleConfirm(e)}}},[t._v("确定")])],1)],1)},_=[],B={filters:{},props:{dialogData:{type:Object,required:!0},subjectId:{type:Number,required:!0}},data:function(){return{questionList:["单项选择题","多项选择题","填空题"],pointList:[],optDisable:!1,option:{a:"",b:"",c:"",d:""}}},watch:{option:{handler:function(t,e){this.dialogData.formData.opt="A、"+t.a+", B、"+t.b+", C、"+t.c+", D、"+t.d,console.log("data",this.dialogData.formData)},deep:!0},subjectId:{handler:function(t,e){this.getPointList(t)}},dialogData:{handler:function(t,e){2===t.formData.questionType?this.optDisable=!0:this.optDisable=!1},deep:!0}},methods:{refresh:function(t){this.getPointList(t)},getPointList:function(t){var e=this;Object(g["a"])({subjectId:t}).then((function(t){e.pointList=t.data})).catch((function(){alert("获取pointList失败")}))}}},C=B,T=Object(u["a"])(C,I,_,!1,null,null,null),L=T.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("题库列表")])]),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:3}},[a("el-input",{attrs:{placeholder:"输入题库名称查询"},model:{value:t.pagination.listQuery.quBankName,callback:function(e){t.$set(t.pagination.listQuery,"quBankName",e)},expression:"pagination.listQuery.quBankName"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{icon:"el-icon-check",type:"primary"},nativeOn:{click:function(e){return t.handles.handleCreateBank(e)}}},[t._v("增加")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},nativeOn:{click:function(e){return t.handleDeletes(e)}}},[t._v("删除")])],1)],1),t._v(" "),a("my-table",{attrs:{data:t._f("examinationFilter")(t.myTableData,t.pagination)}})],1)],1)},Q=[];function x(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=$(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return r=t.done,t},e:function(t){l=!0,o=t},f:function(){try{r||null==a.return||a.return()}finally{if(l)throw o}}}}function $(t,e){if(t){if("string"===typeof t)return A(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?A(t,e):void 0}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function P(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function E(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?P(Object(a),!0).forEach((function(e){Object(b["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var z={components:{MyTable:h["a"]},filters:{examinationFilter:function(t,e){var a=e.listQuery,n=E({},t),i=a.pageNum,o=a.pageSize,r=a.quBankName;return n.tableData=n.tableData.filter((function(t){return!r||t.quBankName.toLowerCase().includes(r.toLowerCase())})),e.total=n.tableData.length,n.tableData=n.tableData.filter((function(t,e){return e<o*i&&e>=o*(i-1)})),n}},props:{subjectId:{type:Number,required:!0},handles:{type:Object,required:!0}},data:function(){var t=this;return{pagination:{listQuery:{pageNum:1,pageSize:10,quBankName:""},total:0},myTableData:{columnList:[{prop:"quBankName",label:"题库名称"}],tableData:[{quBankName:"2017c语言题库",course:"c语言",seQuNumber:200,quNumber:300}],menuList:[{icon:"el-icon-edit",word:"编辑",command:this.handles.handleEditBank},{icon:"el-icon-delete",word:"删除",command:this.handleDelete}],loading:!1,handleSelectionChange:function(e){t.multipleSelection=e}},courseList:["1","2","3"],teacherList:["a","b","c"],multipleSelection:[]}},watch:{subjectId:{handler:function(t,e){console.log("refreshQubank",t),this.refresh(t)}}},created:function(){console.log("qubankcreated"),0!==this.subjectId&&this.refresh(this.subjectId)},methods:{refresh:function(t){this.getQubankLIst(t)},getQubankLIst:function(t){var e=this;Object(m["c"])({subjectId:t}).then((function(t){e.myTableData.tableData=t.data.map((function(t){return{quBankName:t}}))})).catch((function(){console.log("获取题库列表失败")}))},handleDelete:function(t){var e=this;Object(m["a"])({bankName:t.quBankName}).then((function(t){e.refresh(e.subjectId)})).catch((function(){alert("删除题库失败")}))},handleDeletes:function(){var t,e=x(this.multipleSelection);try{for(e.s();!(t=e.n()).done;){var a=t.value;this.handleDelete(a)}}catch(n){e.e(n)}finally{e.f()}}}},V=z,F=Object(u["a"])(V,S,Q,!1,null,null,null),J=F.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.dialogData.dialogVisible,width:"60%",top:"10vh"},on:{"update:visible":function(e){return t.$set(t.dialogData,"dialogVisible",e)}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"90%"},attrs:{model:t.dialogData.formData,"label-position":"right","label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"题库名称",prop:"quBankName"}},[a("el-input",{attrs:{placeholder:"题库名称"},model:{value:t.dialogData.formData.quBankName,callback:function(e){t.$set(t.dialogData.formData,"quBankName",e)},expression:"dialogData.formData.quBankName"}})],1)],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(e){t.dialogData.dialogVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.dialogData.handleConfirm(e)}}},[t._v("确定")])],1)],1)},U=[],G={filters:{},props:{dialogData:{type:Object,required:!0},subjectId:{type:Number,required:!0}},data:function(){return{questionList:["单项选择题","多项选择题","填空题"],pointList:[],optDisable:!1}},watch:{subjectId:{handler:function(t,e){this.getPointList(t)}},dialogData:{handler:function(t,e){2===t.formData.questionType?this.optDisable=!0:this.optDisable=!1},deep:!0}},methods:{refresh:function(t){this.getPointList(t)},getPointList:function(t){var e=this;Object(g["a"])({subjectId:t}).then((function(t){e.pointList=t.data})).catch((function(){alert("获取pointList失败")}))}}},H=G,K=Object(u["a"])(H,M,U,!1,null,null,null),R=K.exports,W=a("6c49"),X={components:{Tree:d,QuestionTable:w,QuBankTable:J,QuestionDialog:L,QuBankDialog:R},data:function(){return{course:!0,treeData:[{label:"c语言",children:[{label:"2017-2018c语言题库"},{label:"2018-2019c语言题库"}]},{label:"面向对象",children:[{label:"面向对象期中题库"},{label:"面向对象期末题库"}]},{label:"java程序设计",children:[{label:"java程序设计期末题库"},{label:"java程序设计期中题库"}]}],bankName:"",subjectId:0,questionDialogData:{dialogVisible:!1,formData:{questionId:10,questionName:"在关系数据库中存在的完整性规则有?",questionType:1,opt:"A、实体完整性规则, B、索引完整性规则, C、引用完整性规则, D、用户定义的完整性规则",questionAnswer:"AC",subjectId:1,pointId:1,bankName:"19-20 数据库",questionTypeName:"多项选择题",pointName:"数据模型"},handleConfirm:this.handleConfirm},quBankDialogData:{dialogVisible:!1,formData:{quBankName:"",oldQuBankName:""},handleConfirm:this.handleConfirmBank}}},created:function(){this.getCourseList()},methods:{nodeClick:function(t,e){e.parent.parent?(this.course=!1,this.bankName=t.id):(this.course=!0,this.subjectId=t.id)},getCourseList:function(){var t=this;Object(W["c"])().then((function(e){t.treeData=e.data.map((function(t){var e={id:t.subjectId,label:t.subjectName,children:[]};return Object(m["c"])({subjectId:e.id}).then((function(t){e.children=t.data.map((function(t){return{id:t,label:t}}))})).catch((function(){alert("获取题库名失败")})),e})),console.log("treedata",t.treeData),t.subjectId=t.treeData[0].id,setTimeout((function(){}),500)})).catch((function(t){console.log(t),alert("错误")}))},handleClean:function(){var t=this.questionDialogData.formData;t.bankName=this.bankName,t.questionId="",t.questionName="",t.questionType="",t.opt="",t.questionAnswer="",t.pointName="",t.pointId=""},handleCreate:function(){this.handleClean(),this.questionDialogData.dialogVisible=!0},handleConfirm:function(){var t=this,e={question:[this.questionDialogData.formData]};Object(m["g"])(e).then((function(e){t.questionDialogData.dialogVisible=!1,t.$refs.questionTable.refresh(t.subjectId,t.bankName)})).catch((function(){alert("添加试题或修改试题失败")}))},handleEdit:function(t){this.questionDialogData.formData=t,this.questionDialogData.dialogVisible=!0},handleCleanBank:function(){this.quBankDialogData.formData={quBankName:"",oldQuBankName:""}},handleCreateBank:function(){this.handleCleanBank(),this.quBankDialogData.dialogVisible=!0},handleEditBank:function(t){this.quBankDialogData.formData=t,this.quBankDialogData.formData.oldQuBankName=t.quBankName,this.quBankDialogData.dialogVisible=!0},handleConfirmBank:function(){var t=this,e=this.quBankDialogData.formData;if(""!==e.oldQuBankName){var a={oldbankName:this.quBankDialogData.formData.oldQuBankName,newbankName:this.quBankDialogData.formData.quBankName};Object(m["f"])(a).then((function(e){t.quBankDialogData.dialogVisible=!1,t.$refs.quBankTable.refresh(t.subjectId)})).catch((function(){console.log("编辑题库失败")}))}else{var n=this.quBankDialogData.formData.quBankName;Object(m["e"])({bankName:n,subjectId:this.subjectId}).then((function(e){t.quBankDialogData.dialogVisible=!1,t.$refs.quBankTable.refresh(t.subjectId)})).catch((function(){console.log("添加题库失败")}))}}}},Y=X,Z=Object(u["a"])(Y,n,i,!1,null,null,null);e["default"]=Z.exports},"96a5":function(t,e,a){},b5b3:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.data.loading,expression:"data.loading"}],attrs:{data:t.data.tableData},on:{"selection-change":t.data.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),t._v(" "),t._l(t.data.columnList,(function(t,e){return a("el-table-column",{key:e,attrs:{prop:t.prop,label:t.label,"show-overflow-tooltip":"",sortable:""}})})),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n            下拉菜单\n            "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.data.menuList,(function(n,i){return a("el-dropdown-item",{key:i,attrs:{icon:n.icon,command:{command:n.command,row:e.row}}},[t._v(t._s(n.word))])})),1)],1)]}}])})],2)],1)},i=[],o={props:{data:{type:Object,required:!0}},data:function(){return{}},methods:{handleCommand:function(t){t.command(t.row)}}},r=o,l=(a("5b8e"),a("4023")),s=Object(l["a"])(r,n,i,!1,null,null,null);e["a"]=s.exports},bc79:function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return o})),a.d(e,"b",(function(){return r})),a.d(e,"g",(function(){return l})),a.d(e,"e",(function(){return s})),a.d(e,"f",(function(){return u})),a.d(e,"a",(function(){return c}));var n=a("b775");function i(t){return Object(n["a"])({url:"/tea/getbank",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/tea/questionintegratedquery",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/tea/delequestion",method:"delete",params:t})}function l(t){return Object(n["a"])({url:"/tea/saveorupdatequestion",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/tea/addbank",method:"post",params:t})}function u(t){return Object(n["a"])({url:"/tea/updatebank",method:"post",params:t})}function c(t){return Object(n["a"])({url:"/tea/delebank",method:"delete",params:t})}},c07b:function(t,e,a){"use strict";var n=a("02b3"),i=a("7403")(5),o="find",r=!0;o in[]&&Array(1)[o]((function(){r=!1})),n(n.P+n.F*r,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("3af2")(o)}}]);